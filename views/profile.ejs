<% layout('layout/page') %>
<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 content_login">
    <div class="main_div">
        <div id="pdf2htmldiv"
             class="col-xs-8 col-xs-offset-2 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3 div bounceInLeft animated">
            <div class="templates main-template" id="basic-table">
                <div class="">
                    <div class="col-xs-10">
                        <span><img src=" /images/papskok.png" class="profile_image"/></span>
                        <span class="firstName title" style="margin-left: 40px"></span>&nbsp;&nbsp;
                        <span class="lastName title"></span>
                    </div>
                    <div class="col-xs-2"><i class="fa fa-times fa-3x close_button pull-right" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="tooTr">
                    <div class="col-xs-4 cv_parts">
                        <img src=" /images/personal.png"><br/>
                        <span class="spanText"><%= global.lang.personalInfo %></span>
                    </div>
                    <div class="col-xs-4 cv_parts_2">
                        <p><%= global.lang.name %>: <span class="firstName"></span></p>
                        <p><%= global.lang.lastName %>: <span class="lastName"></span></p>
                        <p><%= global.lang.date %>: <span class="dob"></span></p>
                        <p><%= global.lang.nationality %>: <span class="nationality"></span></p>
                    </div>
                    <div class="col-xs-4 cv_parts_3">
                        <p><%= global.lang.email %>: <span class="email"></span></p>
                        <p><%= global.lang.phoneNumber %>: <span class="phone"></span></p>
                        <p><%= global.lang.address %>: <span class="address"></span></p>
                    </div>
                </div>
                <div class="oneTr">
                    <div class="col-xs-4 cv_parts">
                        <img src=" /images/uchoba.png"><br/>
                        <span class="spanText"><%= global.lang.education %></span>
                    </div>
                    <div class="col-xs-8">
                        <span class="bold_font eduCourse"></span>
                        <span class="color_blue pull-right"><span class="eduStart color_blue"></span> - <span
                                    class="eduEnd color_blue"></span></span>
                        <p class="color_blue eduInstitution">GPMI Gyumri</p>
                        <p class="eduInfo"></p>
                    </div>
                </div>
                <div class="tooTr">
                    <div class="col-xs-4 cv_parts">
                        <img src=" /images/work.png"><br/>
                        <span class="spanText"><%= global.lang.work %></span>
                    </div>
                    <div class="col-xs-8">
                        <span class="bold_font workTitle">bla bla</span>
                        <span class="color_blue pull-right"><span class="workStart color_blue"></span> - <span
                                    class="workEnd color_blue"></span></span>
                        <p class="color_blue workCompany">GPMI Gyumri</p>
                        <p class="workInfo"></p>
                    </div>
                </div>
                <div class="oneTr">
                    <div class="col-xs-4 cv_parts">
                        <img src=" /images/skills.png"><br/>
                        <span class="spanText"><%= global.lang.skills %></span>
                    </div>
                    <div class="col-xs-4 cv_parts_2">
                        <p class="bold_font center_align">Software</p>
                        <!--<p>Last name: <span class="lastName"></span></p>-->
                        <!--<p>Date of birth: <span class="dob"></span></p>-->
                        <!--<p>Nationality: <span class="nationality"></span></p>-->
                    </div>
                    <div class="col-xs-4 cv_parts_3">
                        <p class="bold_font center_align"><%= global.lang.Languages %></p>
                        <p><span class="language"></span><span class="langRange pull-right"></span></p>
                        <p><span class="language2"></span><span class="langRange2 pull-right"></span></p>
                        <p><span class="language3"></span><span class="langRange3 pull-right"></span></p>
                        <!--<p>Address: <span class="address"></span></p>-->
                    </div>
                </div>
                <div class="tooTr">
                    <div class="col-xs-4 cv_parts">
                        <img src=" /images/hobbies.png"><br/>
                        <span class="spanText">Hobbies</span>
                    </div>
                    <div class="col-xs-8" style="color:red">esdrghjdfghsdfgh</div>
                </div>
            </div>
        </div>
        <!--<button type="button" onclick="javascript:pdfToHTML()"-->
                <!--class="btn btn-info btn-lg"><%= global.lang.download %></button>-->
        <form method="post" action="/pdfGenrator" style="color:black">
        <input type="hidden" name="content" id="allInfo"/>
        <input type="hidden" name="cv_name" id="nameInfo"/>
        <input type="hidden" name="cv_lastname" id="lastnameInfo"/>
        <button type="submit"
        class="btn btn-info btn-lg"><%= global.lang.download %></button>
        </form>
        <br/>
        <button type="button" class="btn btn-info btn-lg" id="edit"><%= global.lang.edit %></button>
    </div>
    <div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
        <h3><span class="fa fa-user"></span> <%= global.lang.Welcome %> <span>
                <% if(user.local.username){ %>
                <%= user.local.username %>
                <% }else{ %>
                <%= user.facebook.name %>
                <img width="40" height="40" src="<%= user.facebook.photo %>"
                     alt="image"/>
                <% } %>

            </span></h3>
    </div>
    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
        <a href="/logout" class="pull-right" id="logout_button"><%= global.lang.logout %></a>
    </div>
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <main>
            <input id="tab0" type="radio" name="tabs" checked>
            <label for="tab0"><%= global.lang.Template %></label>

            <input id="tab1" type="radio" name="tabs">
            <label for="tab1"><%= global.lang.personalInfo %></label>

            <input id="tab2" type="radio" name="tabs">
            <label for="tab2"><%= global.lang.education %></label>

            <input id="tab3" type="radio" name="tabs">
            <label for="tab3"><%= global.lang.work %></label>

            <input id="tab4" type="radio" name="tabs">
            <label for="tab4"> <%= global.lang.skills %></label>

            <section id="content0">
                <div id="template_1" class="templates"></div>
                <div id="template_2" class="templates"></div>
                <div id="template_3" class="templates"></div>
                <div id="template_4" class="templates"></div>
                <div id="template_5" class="templates"></div>
                <div id="template_6" class="templates"></div>
                <div id="template_7" class="templates"></div>
                <div id="template_8" class="templates"></div>
            </section>
            <section id="content1">
                <div class="col-lg-6 col-lg-offset-3 free_page">
                    <form id="uploadForm"
                          enctype="multipart/form-data"
                          action="/api/photo"
                          method="post">
                        <img src="/images/papskok.png" id="status" width="100" height="100"/>
                        <label>
                        <span class="fa-stack fa-lg fa-2x">
                        <i class="fa fa-circle fa-stack-2x"></i>
                        <i class="fa fa-upload fa-stack-1x fa-inverse"></i>
                        </span>
                            <input type="file" name="userPhoto" style="display:none"/>
                        </label>
                        <input type="submit" value=" <%= global.lang.uploadImage %>" name="submit" class="upload_image">
                    </form>
                    <form name="myForm" novalidate>
                        <input type="text" class="form-control" name="firstName" ng-model="firstName"
                               ng-pattern="/[a-zա-ֆа-я ,.'-]{3,20}/i" ng-maxlength="20"
                               placeholder="<%= global.lang.name %>" required>
                        <input type="text" class="form-control" name="lastName" ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/[a-zա-ֆа-я ,.'-]{3,20}/i" ng-model="lastName" required
                               placeholder="<%= global.lang.lastName %>">
                        <input type="text" onfocus="(this.type='date')" class="form-control" name="dob" ng-minlength="3"
                               ng-maxlength="20"
                               ng-pattern="/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/" ng-model="dob"
                               required placeholder="<%= global.lang.date %> (YYYY-MM-DD)">
                        <input type="text" class="form-control" name="nationality" ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/[a-zա-ֆа-я]{3,20}/i" ng-model="nationality" required
                               placeholder="<%= global.lang.nationality %>">
                        <input type="email" class="form-control" name="email" ng-minlength="8" ng-maxlength="30"
                               ng-pattern="/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i"
                               ng-model="email" required placeholder="<%= global.lang.email %>">
                        <input type="text" class="form-control" name="phone" ng-minlength="8" ng-maxlength="30"
                               ng-pattern="/\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{3})/" ng-model="phone" required
                               placeholder="<%= global.lang.phoneNumber %>">
                        <input type="text" class="form-control" name="address" ng-minlength="3" ng-maxlength="30"
                               ng-pattern="/[A-Za-zա-ֆа-я0-9'\.\-\s\,]/i" ng-model="address" required
                               placeholder="<%= global.lang.address %>">
                        <button type="button" class="btn btn-info btn-lg preview"><%= global.lang.preview %></button>
                        <button type="reset" class="btn btn-info btn-lg" id="reset"><%= global.lang.cancel %></button>
                    </form>
                </div>
            </section>
            <section id="content2">
                <div class="col-lg-6 col-lg-offset-3 free_page">
                    <form name="myForm" novalidate>
                        <input type="text" class="form-control" name="eduCourse" ng-model="eduCourse"
                               ng-pattern="/[a-zա-ֆа-я ,.'-]{3,20}/i" ng-maxlength="20"
                               placeholder="<%= global.lang.CourseName %>" required>
                        <input type="text" class="form-control" name="eduInstitution" ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/[a-zա-ֆа-я ,.'-]{3,30}/i" ng-model="eduInstitution" required
                               placeholder="<%= global.lang.institutionName %>">
                        <input type="text" onfocus="(this.type='date')" class="form-control" name="eduStart"
                               ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/" ng-model="eduStart"
                               required placeholder="<%= global.lang.startDate %>">
                        <input type="text" onfocus="(this.type='date')" class="form-control" name="eduEnd"
                               ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/" ng-model="eduEnd"
                               required placeholder="<%= global.lang.EndDate %>">
                        <textarea class="form-control" id="textArea" name="eduInfo"
                                  placeholder="<%= global.lang.otherInfo %>"></textarea>
                        <button type="button" class="btn btn-info btn-lg preview"><%= global.lang.preview %></button>
                        <button type="reset" class="btn btn-info btn-lg" id="reset"><%= global.lang.cancel %></button>
                    </form>
                </div>
            </section>
            <section id="content3">
                <div class="col-lg-6 col-lg-offset-3 free_page">
                    <form name="myForm" novalidate>
                        <input type="text" class="form-control" name="workTitle" ng-model="workTitle"
                               ng-pattern="/[a-zա-ֆа-я ,.'-]{3,20}/i" ng-maxlength="20"
                               placeholder="<%= global.lang.jobTitle %>" required>
                        <input type="text" class="form-control" name="workCompany" ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/[a-zա-ֆа-я ,.'-]{3,30}/i" ng-model="workCompany" required
                               placeholder="<%= global.lang.companyName %>">
                        <input type="text" onfocus="(this.type='date')" class="form-control" name="workStart"
                               ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/" ng-model="workStart"
                               required placeholder="<%= global.lang.startDate %>">
                        <input type="text" onfocus="(this.type='date')" class="form-control" name="workEnd"
                               ng-minlength="3" ng-maxlength="20"
                               ng-pattern="/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/" ng-model="workEnd"
                               required placeholder="<%= global.lang.EndDate %>">
                        <textarea class="form-control" id="textArea" name="workInfo"
                                  placeholder="<%= global.lang.otherInfo %>"></textarea>
                        <button type="button" class="btn btn-info btn-lg preview"><%= global.lang.preview %></button>
                        <button type="reset" class="btn btn-info btn-lg" id="reset"><%= global.lang.cancel %></button>
                    </form>
                </div>
            </section>
            <section id="content4">
                <div class="col-lg-10 col-lg-offset-1 free_page">
                    <h2 style="color: #02547A;margin-left: 15px"><%= global.lang.Languages %></h2>
                    <form name="myForm" novalidate>
                        <div class="row">
                            <div class="col-xs-4">
                                <input type="text" class="form-control" name="language" ng-model="language"
                                       ng-pattern="/[a-zա-ֆа-я ,.'-]{3,20}/i" ng-maxlength="20"
                                       placeholder="<%= global.lang.eG %> <%= global.lang.english %>" required>
                            </div>
                            <div class="col-xs-8">
                                <label class="lang"><input type="radio" name="langRange"
                                                           value="Basics"/><i></i><%= global.lang.basics %></label>
                                <label class="lang"><input type="radio" name="langRange" value="Intermediate"/><i></i> <%= global.lang.Intermediate %></label>
                                <label class="lang"><input type="radio" name="langRange"
                                                           value="Advanced"/><i></i><%= global.lang.advanced %></label>
                                <label class="lang"><input type="radio" name="langRange"
                                                           value="Expert"/><i></i><%= global.lang.Expert %></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-4">
                                <input type="text" class="form-control" name="language2" ng-model="language2"
                                       ng-pattern="/[a-zա-ֆа-я ,.'-]{3,20}/i" ng-maxlength="20"
                                       placeholder="<%= global.lang.eG %> <%= global.lang.russian %>" required>
                            </div>
                            <div class="col-xs-8">
                                <label class="lang"><input type="radio" name="langRange2"
                                                           value="Basics"/><i></i><%= global.lang.basics %></label>
                                <label class="lang"><input type="radio" name="langRange2" value="Intermediate"/><i></i><%= global.lang.Intermediate %></label>
                                <label class="lang"><input type="radio" name="langRange2"
                                                           value="Advanced"/><i></i><%= global.lang.advanced %></label>
                                <label class="lang"><input type="radio" name="langRange2"
                                                           value="Expert"/><i></i><%= global.lang.Expert %></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-4">
                                <input type="text" class="form-control" name="language3" ng-model="language3"
                                       ng-pattern="/[a-zա-ֆа-я ,.'-]{3,20}/i" ng-maxlength="20"
                                       placeholder="<%= global.lang.eG %> <%= global.lang.armenian %>" required>
                            </div>
                            <div class="col-xs-8">
                                <label class="lang"><input type="radio" name="langRange3"
                                                           value="Basics"/><i></i><%= global.lang.basics %></label>
                                <label class="lang"><input type="radio" name="langRange3" value="Intermediate"/><i></i><%= global.lang.Intermediate %></label>
                                <label class="lang"><input type="radio" name="langRange3"
                                                           value="Advanced"/><i></i><%= global.lang.advanced %></label>
                                <label class="lang"><input type="radio" name="langRange3"
                                                           value="Expert"/><i></i><%= global.lang.Expert %></label>
                            </div>
                        </div>
                        <button type="button" class="btn btn-info btn-lg preview"><%= global.lang.preview %></button>
                        <button type="reset" class="btn btn-info btn-lg" id="reset"><%= global.lang.cancel %></button>
                    </form>
                </div>
            </section>

        </main>
    </div>
</div>

<script>
    $(document).ready(function () {

        $('#uploadForm').submit(function () {
            $("#status").empty().text("File is uploading...");

            $(this).ajaxSubmit({

                error: function (xhr) {
                    status('Error: ' + xhr.status);
                },

                success: function (response) {
                    console.log(response);
                    var res = response.substr(6);
                    $("#status").attr("src", res);
                    $(".profile_image").attr("src", res);

                }
            });

            return false;
        });
    });
</script>